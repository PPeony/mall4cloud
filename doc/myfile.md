# 需求文档
## 实现热销商品topk系统
__要求：__
用户在下单时，会给商品计数器加一，实现当前的前5热销商品。
热销商品为永久的，不是一段时间内，比如十分钟内的。
这个榜单不用存入数据库。
可以允许延迟。
我们假设有1w个商品，每秒有1000个用户下单一个商品。

__实现:__
订单支付成功时，向消息队列提交数据（这里简化操作，为了避免每次都点击支付按钮，直接在提交订单时向消息队列提交数据）
消费者监听消息队列，向redis的zset插入数据
另一个查询接口获取zset前k个数据
有必要消息队列吗？为什么不直接插入redis？插入redis增加代码，如果还要插入mongodb呢，所以用消息队列解耦。

>上面是基础实现，下面不一定要实现

当数据量过大时的问题：
频繁操作redis，redis能支撑的流量是多少？
商品id可以分片路由